<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #escribiendo {
            font-size: 20px;
        }
    </style>
</head>

<body>
    <!--URL API http://localhost:8888/PHP-curso-nascor-ifcd0210/MySQL/api/select.php -->
    <div id="escribiendo"></div>

    <script>
        let urlBase = "http://localhost:8888/PHP-curso-nascor-ifcd0210/MySQL/";
       
        function dameDatos(item) {
            return [item.id + ' | ' + item.titulo + ' | ' + item.texto + ' | ' + item.fecha + ' | ' + item.categoria + ' <br><img height="150" src="' + urlBase +"Ejercicio_user_noticias/"+ item.imagen + '"><hr>'];
        }

        function bucle(datos) {
            let elDiv = document.getElementById("escribiendo");
            let html = datos.map(dameDatos);
            elDiv.innerHTML = html;
        }
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function (jSon) {
            if (this.readyState == 4 && this.status == 200) {
                // document.getElementById("escribiendo").innerHTML = this.responseText;
                // Bucle.(
                let datos = JSON.parse(this.responseText);
                bucle(datos);
            }
        }
        xmlhttp.open("GET", urlBase + "/api/select.php", true);
        xmlhttp.send();
    </script>
    
</body>

</html>